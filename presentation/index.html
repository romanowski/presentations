<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Incremental Compiler: taming Scalac</title>
	<meta name="description" content="What is and how works incremental compiler in sbt world">
	<meta name="author" content="Krzysztof Romanowski">

	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

	<meta name="viewport"
		  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<style type="text/css">
		.lefty {
		text-align: left;
		font-size: 65% !important;
		margin-left: 5%  !important;
		}
	</style>

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/black.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
</head>

<body>

<div class="reveal">

	<!-- Any section element inside of this container is displayed as a slide -->
	<div class="slides">

		<section data-markdown>
			<script type="text/template">
			### Krzysztof Romanowski

			romanowski.kr@gmail.com

			<div style="margin-left: 36% text-align: left;">
				<img src="imgs/gh.png" style="background: none; border: none; margin: 0px"> romanowski
				<br/>
				<img src="imgs/twitter.png" style="background: none; border: none; margin: 0px"> RomanowskiKr

			</div>

			<img src="imgs/vl.png" alt="Virtus Lab" style="background: none; border: none; box-shadow: none"/>
			</script>
		</section>

		<!-- ################################################################################################################ -->

		<section>
			<section data-markdown>
				<script type="text/template">
				# DRY Compiling!
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					#### Scala Days Copenhagen: Discount to win!

					<br>

					I am looking for Scala projects I can test my plugin on (to improve compilation times in general).

					<br>

					Send me a link to one

					* gitter @romanowski
					* tweet with #sbthorder hashtag
					* any other way
				</script>
			</section>

		</section>

		<!-- ################################################################################################################ -->

		<section>
			<section data-markdown>
				<script type="text/template">
					## Quick look at slow compiler
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					### My build usually take

					|  | |
					| -- | -- |
					| ~10&nbsp;sec | wait, not&nbsp;a&nbsp;problem |
					| ~minute |  wait, but&nbsp;rather&nbsp;not |
					| ~5&nbsp;minutes | reply to an mail, talk&nbsp;on&nbsp;slack |
					| ~15&nbsp;minutes | go for coffee, do&nbsp;a&nbsp;review |
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					| project | 'cold' | 'warm'
					| -- | -- | -- |
					| ensime-server | 21s | 12s
					| scala-debugger | 30s | 24s |
					| akka | 19s | 11s |
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					## Most of this builds is
					#incremental
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					## My full build usually take

					|  | |
					| -- | -- |
					| ~10&nbsp;sec | wait, not&nbsp;a&nbsp;problem |
					| ~minute |  wait, but&nbsp;rather&nbsp;not |
					| ~5&nbsp;minutes | reply on mail, talk&nbsp;on&nbsp;slack |
					| ~15&nbsp;minutes | go for coffee, do&nbsp;a&nbsp;review |

					(there are Scala projects that compile ~hour)
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					<img src="imgs/compiling.png"/>

					https://xkcd.com/303/
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					| project | time |
					| -- | -- | -- |
					| ensime-server | 161s |
					| scala-debugger | 294s |
					| akka | 316s |
				</script>
			</section>
			<section data-markdown>
				<script type="text/template">
					Can we do better?
				</script>
			</section>

		</section>
		<!-- ################################################################################################################ -->

		<section>
			<section data-markdown>
				<script type="text/template">
					# Meet Hoarder
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					Sbt plugin around 'cached compilation' idea.

					```scala
					  // In your project/plugins.sbt or ~/.sbt/plugins.sbt

					  addSbtPlugin("com.github.romanowski" % "hoarder" % "1.0.0-M1")
					```

					[romanowski.github.io/hoarder](romanowski.github.io/hoarder)
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					### 'cached compilation' =
					### *cache + incremental compilation*
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
				### 'cached compilation' Explained

				``` scala
				def cacheCompile(cache: CacheRef) = {
					loadCache(cache)
					compile()
				}

				def cacheCompileExplained(cache: CacheRef) = {
					// This is not how this is done
					val currentRef = currentSourceReference()
					checkout(cache.sourceReference)
					compile() // Most expensive part
					checkout(currentRef)

					compile(project)
				}
					```
				</script>
			</section>


			<section data-markdown>
				<script type="text/template">
					#### Why is
					### *cache + incremental compilation*
					#### so powerful?
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					Cache1 <- C1 <- C2  <- C3 <- C4 <- Cache2 <- C5 <- C6
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					### Loading my cache

					``` scala
					case class CacheRef(binaries: Path, metadata: Path, srcRef: Hash)

					def loadCache(cache: CacheRef) {
						// Clean classfiles, extract new ones
						loadBinaries(cache.binaries)

						// Most important part
						val loadedMetadata = loadMetadata(cache.metadata)
						compilationMetadataStore().store(loadedMetadata)
					}
					```
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					### Metadata

					```
					show incCompileSetup
					// [info] hoarder/compile:incCompileSetup
					[info] IncSetup(<function1>,<function1>,false,
						<path-to-metadatafile>,sbt.compiler.CompilerCache...
					```

					Usually

					```
					target/streams/compile/incCompileSetup/$global/streams/inc_compile

					streams.in(compileIncSetup).value.cacheDirectory /
							compileAnalysisFilename.value
					```
				</script>
			</section>


			<section data-markdown class="small-code" style="top: 1px; width: 100%;font-size: 0.50em;">
				<script type="text/template" style="max-height: 750px">
					``` scala
					format version: 5
					output mode:
					1 items
					0 -> single
					output directories:
					1 items
					output dir -> /tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes
					compile options:
					0 items
					javac options:
					0 items
					compiler version:
					1 items
					0 -> 2.11.8
					compile order:
					1 items
					0 -> Mixed
					name hashing:
					1 items
					0 -> true
					products:
					4 items
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> /tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes/MyApp$.class
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> /tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes/MyApp$delayedInit$body.class
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> /tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes/MyApp.class
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> /tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes/Test.class
					binary dependencies:
					2 items
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> /home/krzysiek/.coursier/cache/v1/https/repo1.maven.org/maven2/org/scala-lang/scala-library/2.11.8/scala-library-2.11.8.jar
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> /usr/lib/jvm/java-8-oracle/jre/lib/rt.jar
					direct source dependencies:
					0 items
					direct external dependencies:
					0 items
					public inherited source dependencies:
					0 items
					public inherited external dependencies:
					0 items
					member reference internal dependencies:
					0 items
					member reference external dependencies:
					0 items
					inheritance internal dependencies:
					0 items
					inheritance external dependencies:
					0 items
					class names:
					4 items
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> MyApp
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> MyApp$
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> MyApp$delayedInit$body
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> Test
					used names:
					11 items
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> <init>
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> Any
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> AnyRef
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> App
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> MyApp
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> Object
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> Predef
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> Test
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> Unit
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> println
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> scala
					product stamps:
					4 items
					/tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes/MyApp$.class -> lastModified(1488184104000)
					/tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes/MyApp$delayedInit$body.class -> lastModified(1488184104000)
					/tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes/MyApp.class -> lastModified(1488184104000)
					/tmp/sbt_bacc976d/simpleTest/target/scala-2.11/classes/Test.class -> lastModified(1488184104000)
					source stamps:
					1 items
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala -> hash(ea2b0498f9658bad363422af637ce9504f974535)
					binary stamps:
					2 items
					/home/krzysiek/.coursier/cache/v1/https/repo1.maven.org/maven2/org/scala-lang/scala-library/2.11.8/scala-library-2.11.8.jar -> lastModified(1457105192000)
					/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar -> lastModified(1487270216000)
					class names:
					2 items
					/home/krzysiek/.coursier/cache/v1/https/repo1.maven.org/maven2/org/scala-lang/scala-library/2.11.8/scala-library-2.11.8.jar -> scala.App
					/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar -> java.lang.Object
					internal apis:
					1 items
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala ->
					rO0ABXNyABB4c2J0aS5hcGkuU291cmNlSjH5SdlLSkQCAAdJAAdhcGlIYXNoWgAIaGFzTWFjcm9aABBoYXNQYWNrYWdlT2JqZWN0TAAYX2ludGVybmFsT25seV9uYW1lSGFzaGVzdAAkTHhzYnRpL2FwaS9faW50ZXJuYWxPbmx5X05hbWVIYXNoZXM7TAADYXBpdAAVTHhzYnRpL2FwaS9Tb3VyY2VBUEk7TAALY29tcGlsYXRpb250ABdMeHNidGkvYXBpL0NvbXBpbGF0aW9uO1sABGhhc2h0AAJbQnhwECyksgAAc3IAInhzYnRpLmFwaS5faW50ZXJuYWxPbmx5X05hbWVIYXNoZXNU2r6Z+tTsTAIAAlsAD2ltcGxpY2l0TWVtYmVyc3QAI1tMeHNidGkvYXBpL19pbnRlcm5hbE9ubHlfTmFtZUhhc2g7WwAOcmVndWxhck1lbWJlcnNxAH4AB3hwdXIAI1tMeHNidGkuYXBpLl9pbnRlcm5hbE9ubHlfTmFtZUhhc2g7SVqAtt2Wi/QCAAB4cAAAAAB1cQB+AAkAAAAbc3IAIHhzYnRpLmFwaS5faW50ZXJuYWxPbmx5X05hbWVIYXNoWw71InY4V88CAAJJAARoYXNoTAAEbmFtZXQAEkxqYXZhL2xhbmcvU3RyaW5nO3hwiJ9XtnQABm5vdGlmeXNxAH4ADJIESPB0AAR3YWl0c3EAfgAM1Km4b3QADSRhc0luc3RhbmNlT2ZzcQB+AAwFwSp9dAAFTXlBcHBzcQB+AAz+vNYJdAAGZXF1YWxzc3EAfgAM9R1afXQADGFzSW5zdGFuY2VPZnNxAH4ADP/bhjB0AA5leGVjdXRpb25TdGFydHNxAH4ADGKod6p0AAxzeW5jaHJvbml6ZWRzcQB+AAzQQZkidAANJGlzSW5zdGFuY2VPZnNxAH4ADK1nCfR0AARtYWluc3EAfgAMDQQ+MXQACW5vdGlmeUFsbHNxAH4ADIu64C90AAxpc0luc3RhbmNlT2ZzcQB+AAxu7RzpdAAGPGluaXQ+c3EAfgAMACLiOHQAAj09c3EAfgAMshBWMnQABWNsb25lc3EAfgAMv7XRUnQABiRpbml0JHNxAH4ADPOulJV0AARUZXN0c3EAfgAMLtZjBHQACHRvU3RyaW5nc3EAfgAMYi5VEXQABGFyZ3NzcQB+AAwNVdnxdAACIT1zcQB+AAyQns/ldAAIZ2V0Q2xhc3NzcQB+AAzyedohdAACbmVzcQB+AAwTj/0adAACZXFzcQB+AAzpV+xtdAALZGVsYXllZEluaXRzcQB+AAx6C7QSdAACIyNzcQB+AAzz4rGYdAAIZmluYWxpemVzcQB+AAwdrMEQdAAIaGFzaENvZGVzcgATeHNidGkuYXBpLlNvdXJjZUFQSblep/kpIzikAgACWwALZGVmaW5pdGlvbnN0ABdbTHhzYnRpL2FwaS9EZWZpbml0aW9uO1sACHBhY2thZ2VzdAAUW0x4c2J0aS9hcGkvUGFja2FnZTt4cHVyABdbTHhzYnRpLmFwaS5EZWZpbml0aW9uO4jJXOe0414OAgAAeHAAAAACc3IAE3hzYnRpLmFwaS5DbGFzc0xpa2WDNByh37CXbAIABEwADmRlZmluaXRpb25UeXBldAAaTHhzYnRpL2FwaS9EZWZpbml0aW9uVHlwZTtbABBzYXZlZEFubm90YXRpb25zdAATW0xqYXZhL2xhbmcvU3RyaW5nO0wACHNlbGZUeXBldAAQTHhzYnRpL2FwaS9MYXp5O0wACXN0cnVjdHVyZXEAfgBNeHIAIXhzYnRpLmFwaS5QYXJhbWV0ZXJpemVkRGVmaW5pdGlvbvkRbrHVUDziAgABWwAOdHlwZVBhcmFtZXRlcnN0ABpbTHhzYnRpL2FwaS9UeXBlUGFyYW1ldGVyO3hyABR4c2J0aS5hcGkuRGVmaW5pdGlvbocqG+hxQuNGAgAETAAGYWNjZXNzdAASTHhzYnRpL2FwaS9BY2Nlc3M7WwALYW5ub3RhdGlvbnN0ABdbTHhzYnRpL2FwaS9Bbm5vdGF0aW9uO0wACW1vZGlmaWVyc3QAFUx4c2J0aS9hcGkvTW9kaWZpZXJzO0wABG5hbWVxAH4ADXhwc3IAEHhzYnRpLmFwaS5QdWJsaWO6WD2ubC1gQgIAAHhyABB4c2J0aS5hcGkuQWNjZXNz3WKa+B1jMUgCAAB4cHVyABdbTHhzYnRpLmFwaS5Bbm5vdGF0aW9uO+uX6xkQ9o1IAgAAeHAAAAAAc3IAE3hzYnRpLmFwaS5Nb2RpZmllcnOX52HcEyZ7swIAAUIABWZsYWdzeHAAcQB+AC91cgAaW0x4c2J0aS5hcGkuVHlwZVBhcmFtZXRlcjvZbSYPKJ3ytgIAAHhwAAAAAH5yABh4c2J0aS5hcGkuRGVmaW5pdGlvblR5cGUAAAAAAAAAABIAAHhyAA5qYXZhLmxhbmcuRW51bQAAAAAAAAAAEgAAeHB0AAhDbGFzc0RlZnVyABNbTGphdmEubGFuZy5TdHJpbmc7rdJW5+kde0cCAAB4cAAAAABzcgAheHNidGkuYXBpLkFic3RyYWN0TGF6eSRTdHJpY3RMYXp5DWYcaykWKrgCAAFMAAV2YWx1ZXQAEkxqYXZhL2xhbmcvT2JqZWN0O3hwc3IAE3hzYnRpLmFwaS5FbXB0eVR5cGW8/Z5GSTuJJAIAAHhyABR4c2J0aS5hcGkuU2ltcGxlVHlwZXJ4YoghI79AAgAAeHIADnhzYnRpLmFwaS5UeXBlP2rZIRZJqsoCAAB4cHNxAH4AZHNyABN4c2J0aS5hcGkuU3RydWN0dXJlqar5gJNv2AACAANMAAhkZWNsYXJlZHEAfgBNTAAJaW5oZXJpdGVkcQB+AE1MAAdwYXJlbnRzcQB+AE14cQB+AGlzcQB+AGR1cQB+AEgAAAAAc3EAfgBkdXEAfgBIAAAAAHNxAH4AZHVyABFbTHhzYnRpLmFwaS5UeXBlO3T/pVp7+elBAgAAeHAAAAACc3IAFHhzYnRpLmFwaS5Qcm9qZWN0aW9u89KNVOlFpC0CAAJMAAJpZHEAfgANTAAGcHJlZml4dAAWTHhzYnRpL2FwaS9TaW1wbGVUeXBlO3hxAH4AaHQABk9iamVjdHNyABN4c2J0aS5hcGkuU2luZ2xldG9u/Kdf+M9W5EYCAAFMAARwYXRodAAQTHhzYnRpL2FwaS9QYXRoO3hxAH4AaHNyAA54c2J0aS5hcGkuUGF0aJs9XAjOpSeEAgABWwAKY29tcG9uZW50c3QAGltMeHNidGkvYXBpL1BhdGhDb21wb25lbnQ7eHB1cgAaW0x4c2J0aS5hcGkuUGF0aENvbXBvbmVudDtD2gl0LWcWdAIAAHhwAAAAA3NyAAx4c2J0aS5hcGkuSWSYMmyLN1PEQAIAAUwAAmlkcQB+AA14cgAXeHNidGkuYXBpLlBhdGhDb21wb25lbnRfmiJbLoafvAIAAHhwdAAEamF2YXNxAH4AgXQABGxhbmdzcgAOeHNidGkuYXBpLlRoaXPbCe2mzFpAXAIAAHhxAH4A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
					external apis:
					0 items
					source infos:
					1 items
					/tmp/sbt_bacc976d/simpleTest/src/main/scala/Test.scala ->
					AAAAAAAAAAA=
					compilations:
					1 items
					0 -> rO0ABXNyABV4c2J0aS5hcGkuQ29tcGlsYXRpb27t+uDDauigQgIAAkoACXN0YXJ0VGltZVsAB291dHB1dHN0ABpbTHhzYnRpL2FwaS9PdXRwdXRTZXR0aW5nO3hwAAABWn6vTUV1cgAaW0x4c2J0aS5hcGkuT3V0cHV0U2V0dGluZzt/asLzp4elQgIAAHhwAAAAAXNyABd4c2J0aS5hcGkuT3V0cHV0U2V0dGluZ3rZmkd0+x17AgACTAAPb3V0cHV0RGlyZWN0b3J5dAASTGphdmEvbGFuZy9TdHJpbmc7TAAPc291cmNlRGlyZWN0b3J5cQB+AAZ4cHQANi90bXAvc2J0X2JhY2M5NzZkL3NpbXBsZVRlc3QvdGFyZ2V0L3NjYWxhLTIuMTEvY2xhc3Nlc3QAAS8=
					```
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
				```scala
				trait AnalysisMappers {
					val outputDirMapper: Mapper[File] = Mapper.forFile
					val sourceDirMapper: Mapper[File] = Mapper.forFile
					val scalacOptions: Mapper[String] = Mapper.forString

					val sourceMapper: Mapper[File] = Mapper.forFile
					val productMapper: Mapper[File] = Mapper.forFile
					val binaryMapper: Mapper[File] = Mapper.forFile

					type StampMapper = ContextAwareMapper[File, Stamp]
					val binaryStampMapper: StampMapper  = Mapper.forStamp
					val productStampMapper: StampMapper = Mapper.forStamp
					val sourceStampMapper: StampMapper = Mapper.forStamp
				}
			  ```
				</script>
			</section>


			<section data-markdown>
				<script type="text/template">
					``` scala
					products:
					1 items
					#2#MyTestClass.scala -> ##MyTestClass.class
					binary dependencies:
					1 items
					#2#MyTestClass.scala -> /usr/lib/jvm/java-8-oracle/jre/lib/rt.jar
					direct source dependencies: 0 items
					direct external dependencies: 0 items
					public inherited source dependencies: 0 items
					public inherited external dependencies: 0 items
					member reference internal dependencies: 0 items
					member reference external dependencies: 0 items
					inheritance internal dependencies: 0 items
					inheritance external dependencies: 0 items
					class names: 1 items
					#2#MyTestClass.scala -> MyTestClass
					used names: 5 items
						#2#MyTestClass.scala -> <init>
						#2#MyTestClass.scala -> AnyRef
						#2#MyTestClass.scala -> MyTestClass
						#2#MyTestClass.scala -> Object
						#2#MyTestClass.scala -> scala
					product stamps:
					1 items
					##MyTestClass.class -> lastModified(1488184104000)
					source stamps:
					1 items
					#2#MyTestClass.scala -> hash(3debe40d19edbeca966c9c454e0f207b841f79e6)
					binary stamps:
					1 items
					/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar -> lastModified(1487270216000)
					class names:
					1 items
					/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar -> java.lang.Object
					internal apis:
					1 items
					#2#MyTestClass.scala -> serialized-class
					external apis:
					0 items
					source infos:
					1 items
					#2#MyTestClass.scala ->
					AAAAAAAAAAA=
					compilations:
					1 items
					0 -> serialized-class
						```
				</script>
			</section>


			<section data-markdown>
				<script type="text/template">
					## Where is my cache?
				</script>
			</section>

		</section>

		<!-- ################################################################################################################ -->

		<section>
			<section data-markdown>
				<script type="text/template">
					## Use Hoarder
				</script>
			</section>

			<section data-markdown>
			<script type="text/template">
				### Supported workflows

				1. Stash/StashApply
				2. Cached release [In Progress]
				3. More in future.
			</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					### Stash/StashApply

					* The simplest workflow
					* Can be use anywhere without any setting
					* User is responsible for using cache close to sources
					* Useful to test core engine

					[romanowski.github.io/hoarder/docs/stash.html](romanowski.github.io/hoarder/docs/stash.html)
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					### Cached release [In Progress]

					* Incremental compilation metadata is part of a release
					* To load cache: _sbt loadRelease /version/_
					* In future: support for _current_ and _last_ versions

					[romanowski.github.io/hoarder/docs/cachedRelease.html](romanowski.github.io/hoarder/docs/cachedRelease.html)
				</script>
			</section>

		</section>
		<!-- ################################################################################################################ -->

		<section>
			<section data-markdown>
				<script type="text/template">
					## Plans for future
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					## Testing

					Today's hackaton: Let's use hoarder in your project!

				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					* Support for sbt 1.0 (sbt 1.0.0-X10 is released!)
					* Support for zinc 1.0 in 0.13 worksapces (@jvican work)
					* Support for IDEs
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					#### Incremental-aware library dependencies
				</script>
			</section>

			<section data-markdown>
				<script type="text/template">
					Workflows:

					* Abstract cache provider
					* New cache detection mechanisms:
					  * tag/commit based
					  * provided by users
					* Automatic cache application
				</script>
			</section>

		</section>
		<!-- ################################################################################################################ -->

		<section>

			<section data-markdown>
			<script type="text/template">
			### Krzysztof Romanowski

			romanowski.kr@gmail.com

			<div style="margin-left: 36% text-align: left;">
				<img src="imgs/gh.png" style="background: none; border: none; margin: 0px"> romanowski
				<br/>
				<img src="imgs/twitter.png" style="background: none; border: none; margin: 0px"> RomanowskiKr

			</div>

			<img src="imgs/vl.png" alt="Virtus Lab" style="background: none; border: none; box-shadow: none"/>
			</script>
		</section>
		</section>

		<!-- ################################################################################################################ -->
	</div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});











</script>

</body>
</html>
